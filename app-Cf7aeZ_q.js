document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("camera-trigger"),u=document.getElementById("back-trigger"),q=document.getElementById("animated-camera-container"),f=document.getElementById("flash-overlay"),g=document.querySelector("section"),h=document.getElementById("photo-page"),L=document.getElementById("bridging-photo"),p=document.getElementById("bridging-gallery"),x=document.getElementById("bridging-toc"),E=document.getElementById("bridging-footer"),b=document.getElementById("footer-photo"),I=document.getElementById("gallery-section"),B=document.getElementById("about-me-photo"),w=document.getElementById("table-of-contents"),k=document.body,m=document.getElementById("music-design"),M=document.getElementById("music-photo"),T=document.getElementById("music-toggle-btn"),C=document.getElementById("sfx-shutter"),D=document.getElementById("liquid-transition-overlay"),A=document.getElementById("sfx-liquid"),S=document.getElementById("about-me-design"),O=document.getElementById("my-works-section-design"),H=document.getElementById("footer-design"),P=document.getElementById("wave-transition-overlay"),V=document.getElementById("scroll-arrow"),j=document.getElementById("more-about-btn"),Y=document.getElementById("about-me-modal"),Z=document.getElementById("close-modal-btn"),R=document.getElementById("modal-overlay"),N=document.getElementById("modal-card");let c=!1,v=!0,z=m;const U=.5,ie='<svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z" /></svg>',G='<svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z" /></svg>',ne=()=>{T&&(T.innerHTML=G),m&&(m.volume=0),M&&(M.volume=0),C&&(C.volume=.5),A&&(A.volume=.3)},ae=()=>{h.classList.add("hidden"),h.classList.remove("flex"),B.classList.add("hidden"),B.classList.remove("flex"),w.classList.add("hidden"),w.classList.remove("flex"),L.classList.add("hidden"),L.classList.remove("flex"),p.classList.add("hidden"),p.classList.remove("flex"),x.classList.add("hidden"),x.classList.remove("flex"),E.classList.add("hidden"),E.classList.remove("flex"),b.classList.add("hidden"),b.classList.remove("flex"),I.classList.add("hidden"),I.classList.remove("flex"),g.classList.remove("hidden"),g.classList.add("flex"),S&&S.classList.remove("hidden"),k.style.backgroundColor="#686FC6",D.classList.remove("is-active"),k.classList.remove("liquid-transition-active"),v||(X(m),z=m)},F=e=>{if(!e||e.volume===0){e&&e.pause();return}let t=e.volume;const l=setInterval(()=>{t-=.02,t<=0?(e.volume=0,e.pause(),clearInterval(l)):e.volume=t},50)},X=e=>{e&&e.play().then(()=>{e.volume=0;let t=0;const l=setInterval(()=>{t+=.01,t>=U?(e.volume=U,clearInterval(l)):e.volume=t},50)}).catch(t=>console.error("Autoplay was prevented:",t))},de=()=>{c||(c=!0,v||(F(m),X(M)),z=M,q.classList.remove("hidden"),q.classList.add("animate-camera-slide"),setTimeout(()=>{C&&(C.currentTime=0,C.play()),q.classList.add("animate-shutter-click"),g.classList.add("hidden"),g.classList.remove("flex"),S&&S.classList.add("hidden"),P&&P.classList.add("hidden"),O&&O.classList.add("hidden"),H&&H.classList.add("hidden"),h.classList.remove("hidden"),h.classList.add("flex"),B.classList.remove("hidden"),B.classList.add("flex"),w.classList.remove("hidden"),w.classList.add("flex"),L.classList.remove("hidden"),L.classList.add("flex"),p.classList.remove("hidden"),p.classList.add("flex"),x.classList.remove("hidden"),x.classList.add("flex"),E.classList.remove("hidden"),E.classList.add("flex"),b.classList.remove("hidden"),b.classList.add("flex"),I.classList.remove("hidden"),I.classList.add("flex"),k.style.backgroundColor="#000000",window.scrollTo({top:0,behavior:"auto"}),f.classList.remove("hidden"),f.style.opacity="1",f.classList.add("animate-flash"),q.classList.add("hidden"),q.classList.remove("animate-camera-slide","animate-shutter-click"),f.addEventListener("animationend",()=>{f.classList.add("hidden"),f.classList.remove("animate-flash"),f.style.opacity="0",c=!1},{once:!0})},800))},ce=()=>{c||(c=!0,A&&(A.currentTime=0,A.play()),v||(F(M),X(m)),z=m,k.classList.add("liquid-transition-active"),D.classList.add("is-active"),setTimeout(()=>{h.classList.add("hidden"),h.classList.remove("flex"),B.classList.add("hidden"),B.classList.remove("flex"),w.classList.add("hidden"),w.classList.remove("flex"),L.classList.add("hidden"),L.classList.remove("flex"),p.classList.add("hidden"),p.classList.remove("flex"),x.classList.add("hidden"),x.classList.remove("flex"),E.classList.add("hidden"),E.classList.remove("flex"),b.classList.add("hidden"),b.classList.remove("flex"),I.classList.add("hidden"),I.classList.remove("flex"),g.classList.remove("hidden"),g.classList.add("flex"),S&&S.classList.remove("hidden"),k.style.backgroundColor="#686FC6",P&&P.classList.remove("hidden"),O&&O.classList.remove("hidden"),H&&H.classList.remove("hidden"),window.scrollTo({top:0,behavior:"auto"}),D.classList.remove("is-active"),setTimeout(()=>{k.classList.remove("liquid-transition-active"),c=!1},100)},1800))};function J(){const e=document.getElementById("cloud-frame");if(!e)return;e.innerHTML="";const t=e.offsetWidth,l=e.offsetHeight,s=100,$=40;for(let d=0;d<l;d+=s-$){const i=document.createElement("div");i.className="cloud-bump",i.style.width=`${s}px`,i.style.height=`${s}px`,i.style.top=`${d-15}px`,i.style.left=`-${s/2}px`,e.appendChild(i);const o=document.createElement("div");o.className="cloud-bump",o.style.width=`${s}px`,o.style.height=`${s}px`,o.style.top=`${d-15}px`,o.style.right=`-${s/2}px`,e.appendChild(o)}const n=s/2;for(let d=n;d<t-n;d+=s-$){const i=document.createElement("div");i.className="cloud-bump",i.style.width=`${s}px`,i.style.height=`${s}px`,i.style.top=`-${s/2}px`,i.style.left=`${d-40}px`,e.appendChild(i);const o=document.createElement("div");o.className="cloud-bump",o.style.width=`${s}px`,o.style.height=`${s}px`,o.style.bottom=`-${s/2}px`,o.style.left=`${d-40}px`,e.appendChild(o)}}const re=()=>{Y&&(Y.classList.remove("hidden"),N&&N.classList.add("animate-slide-up"),document.body.style.overflow="hidden",setTimeout(J,50))},K=()=>{Y&&(Y.classList.add("hidden"),N&&N.classList.remove("animate-slide-up"),document.body.style.overflow="")};r&&r.addEventListener("click",de),u&&u.addEventListener("click",ce),T&&T.addEventListener("click",()=>{v=!v,v?F(z):X(z),T.innerHTML=v?G:ie}),window.addEventListener("scroll",()=>{V&&(V.style.display=window.scrollY>50?"none":"block")}),j&&j.addEventListener("click",re),Z&&Z.addEventListener("click",K),R&&R.addEventListener("click",K),window.addEventListener("resize",J);const Q=document.querySelectorAll("#about-me-design .animate-on-scroll");if(Q.length>0){const e=new IntersectionObserver((t,l)=>{t.forEach(s=>{s.isIntersecting&&(s.target.classList.add("opacity-100","translate-y-0"),s.target.classList.remove("opacity-0","translate-y-10"),document.querySelectorAll("#about-me-design .decor-item").forEach(n=>{n.classList.remove("opacity-0"),n.classList.add("start-animation")}),l.unobserve(s.target))})},{threshold:.1});Q.forEach(t=>{t.classList.add("opacity-0","translate-y-10","transition-all","duration-700","ease-out"),e.observe(t)})}ne(),ae();const a=document.querySelectorAll(".slider .item"),W=document.getElementById("next"),_=document.getElementById("prev");if(a.length>0){let t=function(){let l=0;a[e].style.transform="none",a[e].style.zIndex=1,a[e].style.filter="none",a[e].style.opacity=1;for(var s=e+1;s<a.length;s++)l++,a[s].style.transform=`translateX(${120*l}px) scale(${1-.2*l}) perspective(16px) rotateY(-1deg)`,a[s].style.zIndex=-l,a[s].style.filter="blur(5px)",a[s].style.opacity=l>2?0:.6;l=0;for(var s=e-1;s>=0;s--)l++,a[s].style.transform=`translateX(${-120*l}px) scale(${1-.2*l}) perspective(16px) rotateY(1deg)`,a[s].style.zIndex=-l,a[s].style.filter="blur(5px)",a[s].style.opacity=l>2?0:.6};var he=t;let e=Math.floor(a.length/2);t(),W&&(W.onclick=function(){e=e+1<a.length?e+1:e,t()}),_&&(_.onclick=function(){e=e-1>=0?e-1:e,t()})}const ee=document.querySelectorAll(".category-btn"),me=document.querySelectorAll(".slider-wrapper");function ue(e){const t=e.querySelectorAll(".slider .item"),l=e.querySelector(".next"),s=e.querySelector(".prev");if(t.length>0){let d=function(){let i=0;t[n].style.transform="none",t[n].style.zIndex=1,t[n].style.filter="none",t[n].style.opacity=1;for(var o=n+1;o<t.length;o++)i++,t[o].style.transform=`translateX(${120*i}px) scale(${1-.2*i}) perspective(16px) rotateY(-1deg)`,t[o].style.zIndex=-i,t[o].style.filter="blur(5px)",t[o].style.opacity=i>2?0:.6;i=0;for(var o=n-1;o>=0;o--)i++,t[o].style.transform=`translateX(${-120*i}px) scale(${1-.2*i}) perspective(16px) rotateY(1deg)`,t[o].style.zIndex=-i,t[o].style.filter="blur(5px)",t[o].style.opacity=i>2?0:.6};var $=d;let n=Math.floor(t.length/2);d(),l&&(l.onclick=function(){n=n+1<t.length?n+1:n,d()}),s&&(s.onclick=function(){n=n-1>=0?n-1:n,d()})}}me.forEach(ue),ee.forEach(e=>{e.addEventListener("click",()=>{if(c)return;const t=e.dataset.category,l=document.getElementById(`slider-${t}`);ee.forEach($=>$.classList.remove("active")),c=!0;const s=document.querySelector(".slider-wrapper.active");s&&(s.classList.add("fade-out"),setTimeout(()=>{s.classList.remove("active","fade-out"),s.classList.add("hidden"),e.classList.add("active"),l.classList.remove("hidden"),l.classList.add("active","fade-in"),setTimeout(()=>{l.classList.remove("fade-in"),c=!1},500)},500))})});const y=document.getElementById("image-lightbox"),te=document.getElementById("lightbox-image"),se=document.getElementById("close-lightbox"),fe=document.querySelectorAll(".slider .item img");function ve(e){const t=e.target.src;y&&te&&(te.src=t,y.classList.remove("hidden"),document.body.style.overflow="hidden")}function oe(){y&&(y.classList.add("hidden"),document.body.style.overflow="")}fe.forEach(e=>{e.addEventListener("click",ve),e.style.cursor="pointer"}),se&&se.addEventListener("click",oe),y&&y.addEventListener("click",e=>{e.target===y&&oe()}),tsParticles.load({id:"tsparticles",options:{background:{color:{value:"transparent"}},fpsLimit:60,interactivity:{events:{onHover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.2,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0},value:50},opacity:{value:.3},shape:{type:"circle"},size:{value:{min:1,max:4}}},detectRetina:!0}})});const ye=document.querySelectorAll(".gallery-cards");ye.forEach((r,u)=>{new Swiper(r,{effect:"cards",grabCursor:!0,loop:!0})});const le=document.querySelectorAll(".gallery-btn"),ge=document.querySelectorAll(".gallery-wrapper");le.forEach(r=>{r.addEventListener("click",()=>{le.forEach(u=>u.classList.remove("active")),r.classList.add("active"),ge.forEach(u=>u.classList.add("hidden")),document.getElementById("swiper-"+r.dataset.category).classList.remove("hidden")})});
